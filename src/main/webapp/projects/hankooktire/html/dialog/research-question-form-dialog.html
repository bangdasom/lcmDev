<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>DWP</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="../../assets/css/components-style.css"/>
    <link rel="stylesheet" href="../../assets/css/pages.css"/>
    <link rel="stylesheet" href="../../assets/css/pages-m.css"/>

    <script src="../../assets/lib/jquery/jquery-2.2.4.js"></script>
    <script src="../../assets/lib/jquery-ui/jquery-ui.min.js"></script>
    <script src="../../assets/lib/slick/slick.min.js"></script>
    <script src="../../assets/lib/bxSlider/jquery.bxslider.min.js"></script>
    <script src="../../assets/lib/mCustomScrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
    <script src="../../assets/js/common-style.js"></script>
    <script src="../../assets/js/sub-layout.js"></script>
    <script src="../../assets/js/common-dialog.js"></script>
    <script src="../../assets/js/dynatree/jquery.dynatree.js"></script>
    <script>
        $(function() {
            $("#dialog").dialog({
                title: "질문추가",
                width: 736,

                /* 기본옵션 */
                draggable: false,
                hide: { effect: "fade", duration: 300 },
                show: { effect: "fade", duration: 300 },
                resizable: false,
                modal: true,
                open: function() {
                    $('.ui-widget-overlay').on('click', function() {
                        $('#dialog').dialog('close');
                    })
                }
            });

            $(".q-option-list").sortable({
                stop:function(e,ui){
                var $this = $(ui.item[0]);
                    if($this.closest(".row-area").length == 1){
                        numChange($this.parent(".q-option-list"),"행");
                    }else if($(this).closest(".col-area").length == 1){
                        numChange($this.parent(".q-option-list"),"열");
                    }
                }
            });

            $(document).on("change","#main-sel",function(){
                defaultSet();
                $(".row.question."+ $(this).val()).addClass("active");
            });
            $(document).on("change","#range-min",function(){
                $(".range-min").html($(this).val());
            });
            $(document).on("change","#range-max",function(){
                $(".range-max").html($(this).val());
            });

            $(document).on("click",".dwp-add-btn",function(){
                var $clone = $(this).prev(".q-option-list").find(".q-option").first().clone();
                $clone.find("input").val("");
                $(this).prev(".q-option-list").append($clone);

                if($(this).closest(".row-area").length == 1){
                    numChange($(this).prev(".q-option-list"),"행");
                }else if($(this).closest(".col-area").length == 1){
                    numChange($(this).prev(".q-option-list"),"열");
                }

            });

            $(document).on("click",".del-btn",function(){
                var index = $(this).closest(".q-option-list").find(".q-option").index($(this).closest(".q-option"));
                if(index == 0){
                    return;
                }
                $(this).closest(".q-option").remove();
            });

            function defaultSet(){
                $(".row").not(".except").removeClass("active");
            }

            function numChange(doc,str){
                var array = doc.find(".q-option");
                for(var i=0;i<array.length;i++){
                    console.log(str + Number(i+1));
                    $(array.find(".q-title")[i]).html(str + Number(i+1));
                }
            }

        });
    </script>
</head>
<body>
<div id="dialog" title="Basic dialog">
    <div class="dwp-research-question-form-dialog">
        <div class="section">
            <div class="row except active">
                <div class="key">응답유형</div>
                <div class="value">
                    <div class="dwp-onoff">
                        <div class="onoff-title">응답선택</div>
                        <label>
                            <input type="checkbox"><span>선택</span>
                        </label>
                        <div class="onoff-title">응답필수</div>
                    </div>
                </div>
            </div>
            <div class="row except active">
                <div class="key">문제유형</div>
                <div class="value">
                    <div class="dwp-grouping">
                        <div class="dwp-selectbox lg">
                            <select id="main-sel">
                                <option value="default">==문제유형 선택==</option>
                                <option value="short-type">단답형</option>
                                <option value="long-type">장문형</option>
                                <option value="radio-type">객관식 단답형</option>
                                <option value="checkbox-type">객관식 다답형</option>
                                <option value="dropdown-type">드롭다운형</option>
                                <option value="range-type">직선단계형</option>
                                <option value="grid-type">객관식 그리드형</option>
                                <option value="date-type">날짜형</option>
                                <option value="time-type">시간형</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row except active">
                <div class="key">질문제목</div>
                <div class="value">
                    <div class="dwp-input expended">
                        <input type="text" placeholder="질문을 입력하세요.">
                        <div class="q-add-img">
                            <input type="file" id="add-img1">
                            <label for="add-img1"><img src="../../assets/images/common/file-icon-image.png" alt=""></label>
                        </div>

                        <div class="q-img">
                            <img src="../../assets/images/dummy/card-img.png" alt="">
                            <a class="cancel-img"><img src="../../assets/images/common/btn-cancel.svg" alt=""></a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 질문유형 -->

            <!-- 단답형 -->
            <div class="row question short-type">
                <div class="input-short-type">
                </div>
            </div>

            <!-- 장문형 -->
            <div class="row question long-type">
                <div class="input-long-type">
                </div>
            </div>

            <!-- 객관식 질문(radio) -->
            <div class="row question radio-type">
                <div class="aligner" data-bottom="xs">
                    <div class="right">
                        <div class="q-guide">보기에 특수문자(^,*,")를 입력하지 마세요.</div>
                    </div>
                </div>
                <div class="q-option-list">
                    <div class="q-option">
                        <div class="dwp-drag-handle">
                            <img src="../../assets/images/common/icon-move2.svg" alt="">
                        </div>
                        <div class="dwp-grouping expended">
                            <div class="dwp-radio textless">
                                <label>
                                    <input type="radio" name="radio-group3-1"><span></span>
                                </label>
                            </div>
                            <div class="dwp-input">
                                <input type="text" placeholder="보기를 입력하세요.">
                                <div class="q-add-img">
                                    <input type="file" id="add-img2">
                                    <label for="add-img2"><img src="../../assets/images/common/file-icon-image.png" alt=""></label>
                                </div>
                            </div>
                            <div class="del-btn">
                                <a><img src="../../assets/images/common/btn-cancel.svg" alt=""></a>
                            </div>
                        </div>
                    </div>
                </div>
                <a class="dwp-add-btn">
                    <div class="dwp-btn-more"></div>
                    보기추가
                </a>
            </div>

            <!-- 체크박스(check) -->
            <div class="row question checkbox-type">
                <div class="aligner" data-bottom="xs">
                    <div class="right">
                        <div class="q-guide">보기에 특수문자(^,*,")를 입력하지 마세요.</div>
                    </div>
                </div>
                <div class="q-option-list">
                    <div class="q-option">
                        <div class="dwp-drag-handle">
                            <img src="../../assets/images/common/icon-move2.svg" alt="">
                        </div>
                        <div class="dwp-grouping expended">
                            <div class="dwp-checkbox textless">
                                <label>
                                    <input type="checkbox"><span></span>
                                </label>
                            </div>
                            <div class="dwp-input">
                                <input type="text" placeholder="보기를 입력하세요.">
                                <div class="q-add-img">
                                    <input type="file" id="add-img4">
                                    <label for="add-img4"><img src="../../assets/images/common/file-icon-image.png" alt=""></label>
                                </div>
                            </div>
                            <div class="del-btn">
                                <a><img src="../../assets/images/common/btn-cancel.svg" alt=""></a>
                            </div>
                        </div>
                    </div>
                </div>
                <a class="dwp-add-btn">
                    <div class="dwp-btn-more"></div>
                    보기추가
                </a>
            </div>

            <!-- 드롭다운 -->
            <div class="row question dropdown-type">
                <div class="aligner" data-bottom="xs">
                    <div class="right">
                        <div class="q-guide">옵션에 특수문자(^,*,")를 입력하지 마세요.</div>
                    </div>
                </div>
                <div class="q-option-list">
                    <div class="q-option">
                        <div class="dwp-drag-handle">
                            <img src="../../assets/images/common/icon-move2.svg" alt="">
                        </div>
                        <div class="dwp-grouping expended">
                            <div class="dwp-input expended">
                                <input type="text" placeholder="옵션을 입력하세요.">
                                <div class="q-add-img">
                                    <input type="file" id="add-img6">
                                    <label for="add-img6"><img src="../../assets/images/common/file-icon-image.png" alt=""></label>
                                </div>
                            </div>
                            <div class="del-btn">
                                <a><img src="../../assets/images/common/btn-cancel.svg" alt=""></a>
                            </div>
                        </div>
                    </div>
                </div>
                <a class="dwp-add-btn">
                    <div class="dwp-btn-more"></div>
                    보기추가
                </a>
            </div>

            <!-- 직선단계 -->
            <div class="row question range-type">
                <div class="dwp-grouping">
                    <div class="dwp-selectbox sm">
                        <select id="range-min">
                            <option value="0">0</option>
                            <option value="1">1</option>
                        </select>
                    </div>
                    <div>~</div>
                    <div class="dwp-selectbox sm">
                        <select id="range-max">
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                        </select>
                    </div>
                </div>
                <div class="q-option-list">
                    <div class="q-option">
                        <div class="dwp-grouping">
                            <div class="q-title range-min">0</div>
                            <div class="dwp-input">
                                <input type="text" placeholder="라벨(선택사항)">
                            </div>
                        </div>
                    </div>
                    <div class="q-option">
                        <div class="dwp-grouping">
                            <div class="q-title range-max">2</div>
                            <div class="dwp-input">
                                <input type="text" placeholder="라벨(선택사항)">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 객관식 그리드 -->
            <div class="row question grid-type">
                <div class="grid-area">
                    <div class="row-area">
                        <div class="q-option-list">
                            <div class="q-option">
                                <div class="dwp-drag-handle">
                                    <img src="../../assets/images/common/icon-move2.svg" alt="">
                                </div>
                                <div class="dwp-grouping">
                                    <div class="q-title">행1</div>
                                    <div class="dwp-input">
                                        <input type="text">
                                    </div>
                                    <div class="del-btn">
                                        <a><img src="../../assets/images/common/btn-cancel.svg" alt=""></a>
                                    </div>
                                </div>
                            </div>
                            <div class="q-option">
                                <div class="dwp-drag-handle">
                                    <img src="../../assets/images/common/icon-move2.svg" alt="">
                                </div>
                                <div class="dwp-grouping">
                                    <div class="q-title">행2</div>
                                    <div class="dwp-input">
                                        <input type="text">
                                    </div>
                                    <div class="del-btn">
                                        <a><img src="../../assets/images/common/btn-cancel.svg" alt=""></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <a class="dwp-add-btn">
                            <div class="dwp-btn-more"></div>
                            보기추가
                        </a>
                    </div>
                    <div class="col-area">
                        <div class="q-option-list">
                            <div class="q-option">
                                <div class="dwp-drag-handle">
                                    <img src="../../assets/images/common/icon-move2.svg" alt="">
                                </div>
                                <div class="dwp-grouping">
                                    <div class="q-title">열1</div>
                                    <div class="dwp-input">
                                        <input type="text">
                                    </div>
                                    <div class="del-btn">
                                        <a><img src="../../assets/images/common/btn-cancel.svg" alt=""></a>
                                    </div>
                                </div>
                            </div>
                            <div class="q-option">
                                <div class="dwp-drag-handle">
                                    <img src="../../assets/images/common/icon-move2.svg" alt="">
                                </div>
                                <div class="dwp-grouping">
                                    <div class="q-title">열2</div>
                                    <div class="dwp-input">
                                        <input type="text">
                                    </div>
                                    <div class="del-btn">
                                        <a><img src="../../assets/images/common/btn-cancel.svg" alt=""></a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <a class="dwp-add-btn">
                            <div class="dwp-btn-more"></div>
                            보기추가
                        </a>
                    </div>
                </div>
            </div>

            <!-- 날짜형 -->
            <div class="row question date-type">
                <div class="input-date-type">
                </div>
            </div>

            <!-- 시간형 -->
            <div class="row question time-type">
                <div class="dwp-grouping">
                    <div class="dwp-selectbox sm">
                        <select>
                            <option value="">01</option>
                            <option value="">02</option>
                            <option value="">03</option>
                            <option value="">04</option>
                            <option value="">05</option>
                            <option value="">06</option>
                            <option value="">07</option>
                            <option value="">08</option>
                            <option value="">09</option>
                            <option value="">10</option>
                            <option value="">11</option>
                            <option value="">12</option>
                            <option value="">13</option>
                            <option value="">14</option>
                            <option value="">15</option>
                            <option value="">16</option>
                            <option value="">17</option>
                            <option value="">18</option>
                            <option value="">19</option>
                            <option value="">20</option>
                            <option value="">21</option>
                            <option value="">22</option>
                            <option value="">23</option>
                            <option value="">24</option>
                        </select>
                    </div>
                    <div>:</div>
                    <div class="dwp-selectbox sm">
                        <select>
                            <option value="">00</option>
                            <option value="">01</option>
                            <option value="">02</option>
                            <option value="">03</option>
                            <option value="">04</option>
                            <option value="">05</option>
                            <option value="">06</option>
                            <option value="">07</option>
                            <option value="">08</option>
                            <option value="">09</option>
                            <option value="">10</option>
                            <option value="">11</option>
                            <option value="">12</option>
                            <option value="">13</option>
                            <option value="">14</option>
                            <option value="">15</option>
                            <option value="">16</option>
                            <option value="">17</option>
                            <option value="">18</option>
                            <option value="">19</option>
                            <option value="">20</option>
                            <option value="">21</option>
                            <option value="">22</option>
                            <option value="">23</option>
                            <option value="">24</option>
                            <option value="">25</option>
                            <option value="">26</option>
                            <option value="">27</option>
                            <option value="">28</option>
                            <option value="">29</option>
                            <option value="">30</option>
                            <option value="">31</option>
                            <option value="">32</option>
                            <option value="">33</option>
                            <option value="">34</option>
                            <option value="">35</option>
                            <option value="">36</option>
                            <option value="">37</option>
                            <option value="">38</option>
                            <option value="">39</option>
                            <option value="">40</option>
                            <option value="">41</option>
                            <option value="">42</option>
                            <option value="">43</option>
                            <option value="">44</option>
                            <option value="">45</option>
                            <option value="">46</option>
                            <option value="">47</option>
                            <option value="">48</option>
                            <option value="">49</option>
                            <option value="">50</option>
                            <option value="">51</option>
                            <option value="">52</option>
                            <option value="">53</option>
                            <option value="">54</option>
                            <option value="">55</option>
                            <option value="">56</option>
                            <option value="">57</option>
                            <option value="">58</option>
                            <option value="">59</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="aligner" data-top="md" data-bottom="md">
            <div class="center">
                <div class="dwp-btn confirm"><button type="button">확인</button></div>
                <div class="dwp-btn cancel"><button type="button">취소</button></div>
            </div>
        </div>
    </div>


</div>
</body>
</html>
