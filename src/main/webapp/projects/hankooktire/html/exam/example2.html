<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>DWP</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="../../assets/css/components-style.css"/>
    <link rel="stylesheet" href="../../assets/css/pages.css"/>
    <link rel="stylesheet" href="../../assets/css/pages-m.css"/>

    <script src="../../assets/lib/jquery/jquery-2.2.4.js"></script>
    <script src="../../assets/lib/jquery-ui/jquery-ui.min.js"></script>
    <script src="../../assets/lib/slick/slick.min.js"></script>
    <script src="../../assets/lib/bxSlider/jquery.bxslider.min.js"></script>
    <script src="../../assets/lib/mCustomScrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
    <script src="../../assets/js/common-style.js"></script>
    <script src="../../assets/js/sub-layout.js"></script>
    <script src="../../assets/js/common-dialog.js"></script>
    <script src="../../assets/js/dynatree/jquery.dynatree.js"></script>
    <script>

        $(function(){
            var exampleData = [];
           $(".example .dwp-btn .confirm-btn").on("click",function(){
               var name = $(".example select option:selected").text();
               var code = $(".example select").val();
               var text = $(this).parent("div").prev().children("input").val();
               exampleData.push({name: name, code: code, text: text});
               var displayItem = "<div class='dwp-language-item'>";
               displayItem += '<span>' + name + ':' + text + '</span>';
               displayItem += '<a class="btn-del"><img src="../../images/common/icon-close.svg" alt=""></a>';
               displayItem += "</div>";
               $(".dwp-lang-wrap").append(displayItem);
               /*$(".example-data").val(JSON.stringify(exampleData));*/
               makeLanguageText();
               $(this).parent("div").prev().children("input").val("");
           });

            $(document).on("click",".tag-item .btn-del",function(){
                var index = $('.example .dwp-language-item').index($(this).closest('.example .dwp-language-item'));
                $(this).closest("div").remove();
                if(exampleData.length==1){
                    exampleData = [];
                }else{
                    exampleData.splice(index,1);
                }
                console.log(exampleData);
                /*$(".example-data").val(JSON.stringify(exampleData));*/
                makeLanguageText();
            });

            $(document).on("click",".dwp-v-table.tiny-type .btn-del",function(){
                var index = $(this).closest("tbody").find('tr').index($(this).closest("tr"));
                if(index!=2){
                    $(this).closest("tr").remove();
                }
            });

            $(document).on("click",".dwp-v-table.tiny-type .add-row",function(){
               var tr = $(this).closest(".dwp-v-table").find('tr').last().clone();
                tr.find('input').val("");
                tr.find('.dwp-calendar-form').find('.dwp-input').html('<input type="text">');
                $(this).closest(".dwp-v-table").find('tr').last().after(tr);
                $( ".dwp-calendar-form input[type='text']" ).datepicker({
                    showOn: "button",
                    dateFormat: "yy-mm-dd",
                    buttonImage: "../../assets/images/common/empty.png",
                    buttonImageOnly: true,
                    buttonText: "Select date"
                });
            });

            function makeLanguageText(){
                var languageText = "";
                for(var i=0;i<exampleData.length;i++){
                    if(i ==0){
                        languageText += exampleData[i].code + ":" + exampleData[i].text ;
                    }else{
                        languageText += "," + exampleData[i].code + ":" + exampleData[i].text ;
                    }
                }
                $(".example-data").val(languageText);
            }
            
            /* 직접입력폼 */
            $(".chk-self-form .sel input").on("change", function () {
                if($(this).is(":checked")){
                    $(this).closest(".chk-self-form").addClass("active");
                } else {
                    $(this).closest(".chk-self-form").removeClass("active");
                }
            });
        });
    </script>
</head>
<body>
    <div class="example" style="padding: 150px;">

        <div class="dwp-section">
            <div class="dwp-v-table tiny-type">
                <div class="aligner" data-type="table" data-align="middle" data-bottom="xs">
                    <div class="left">
                        <div class="subject">성명 입력시 자동완성</div>
                    </div>
                    <div class="right">
                        <div class="dwp-btn icon add-row"><span><img src="../../assets/images/common/icon-lnb-depth.svg" alt=""></span></div>
                    </div>
                </div>
                <div class="dwp-table-vertical line-type form-type">
                    <table>
                        <colgroup>
                            <col style="width: 10%">
                            <col style="width: 10%">
                            <col style="width: 10%">
                            <col style="width: 10%">
                            <col style="width: 10%">
                            <col style="width: 10%">
                            <col style="width: 10%">
                            <col style="width: 10%">
                            <col style="width: 10%">
                            <col style="width: 2%"> <!-- X버튼 삭제영역(지우지마세요) -->
                        </colgroup>
                        <thead>
                        </thead>
                        <tbody>
                        <tr>
                            <th colspan="3">출장자</th>
                            <th colspan="2">출장국가</th>
                            <th colspan="2">출장지역</th>
                            <th rowspan="2">출발일자</th>
                            <th rowspan="2">도착일자</th>
                            <th rowspan="2"></th><!-- X버튼 삭제영역(지우지마세요) -->
                        </tr>
                        <tr>
                            <th>성명</th>
                            <th>소속</th>
                            <th>직급</th>
                            <th>1</th>
                            <th>2</th>
                            <th>1</th>
                            <th>2</th>
                        </tr>
                        <tr>
                            <td>
                                <div class="dwp-input expended"><input type="text"></div>
                            </td>
                            <td>
                                <div class="dwp-input expended"><input type="text"></div>
                            </td>
                            <td>
                                <div class="dwp-input expended"><input type="text"></div>
                            </td>
                            <td>
                                <div class="dwp-input expended"><input type="text"></div>
                            </td>
                            <td>
                                <div class="dwp-input expended"><input type="text"></div>
                            </td>
                            <td>
                                <div class="dwp-grouping expended">
                                    <div class="dwp-selectbox">
                                        <select>
                                            <option value="">00</option>
                                            <option value="">01</option>
                                            <option value="">02</option>
                                            <option value="">03</option>
                                            <option value="">04</option>
                                            <option value="">05</option>
                                            <option value="">06</option>
                                            <option value="">07</option>
                                            <option value="">08</option>
                                            <option value="">09</option>
                                            <option value="">10</option>
                                            <option value="">11</option>
                                            <option value="">12</option>
                                            <option value="">13</option>
                                            <option value="">14</option>
                                            <option value="">15</option>
                                            <option value="">16</option>
                                            <option value="">17</option>
                                            <option value="">18</option>
                                            <option value="">19</option>
                                            <option value="">20</option>
                                            <option value="">21</option>
                                            <option value="">22</option>
                                            <option value="">23</option>
                                        </select>
                                    </div>
                                    <div>:</div>
                                    <div class="dwp-selectbox">
                                        <select>
                                            <option value="">10</option>
                                            <option value="">20</option>
                                            <option value="">30</option>
                                            <option value="">40</option>
                                            <option value="">50</option>
                                        </select>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="dwp-grouping expended">
                                    <div class="dwp-selectbox">
                                        <select>
                                            <option value="">00</option>
                                            <option value="">01</option>
                                            <option value="">02</option>
                                            <option value="">03</option>
                                            <option value="">04</option>
                                            <option value="">05</option>
                                            <option value="">06</option>
                                            <option value="">07</option>
                                            <option value="">08</option>
                                            <option value="">09</option>
                                            <option value="">10</option>
                                            <option value="">11</option>
                                            <option value="">12</option>
                                            <option value="">13</option>
                                            <option value="">14</option>
                                            <option value="">15</option>
                                            <option value="">16</option>
                                            <option value="">17</option>
                                            <option value="">18</option>
                                            <option value="">19</option>
                                            <option value="">20</option>
                                            <option value="">21</option>
                                            <option value="">22</option>
                                            <option value="">23</option>
                                        </select>
                                    </div>
                                    <div>:</div>
                                    <div class="dwp-selectbox">
                                        <select>
                                            <option value="">10</option>
                                            <option value="">20</option>
                                            <option value="">30</option>
                                            <option value="">40</option>
                                            <option value="">50</option>
                                        </select>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="dwp-calendar-form">
                                    <div class="dwp-input expended">
                                        <input type="text" value="2016-10-20">
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="dwp-calendar-form">
                                    <div class="dwp-input expended">
                                        <input type="text">
                                    </div>
                                </div>
                            </td>

                            <!-- X버튼 삭제영역(지우지마세요) -->
                            <td class="no-padding">
                                <a class="btn-del"><img src="../../assets/images/common/icon-close.svg" alt=""></a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="dwp-section">
            <div class="tiny-type">
                <div class="aligner" data-bottom="xs">
                    <div class="left">
                        <div class="subject">비용발생 세부내역</div>
                    </div>
                </div>
                <div class="dwp-table-vertical line-type form-type">
                    <table>
                        <colgroup>
                            <col style="width: 10%">
                            <col style="width: 90%">
                        </colgroup>
                        <tbody>
                        <tr>
                            <th>적용통화</th>
                            <td>
                                <div class="chk-self-form">
                                    <div class="dwp-checkbox sel">
                                        <label>
                                            <input type="checkbox"><span>종일</span>
                                        </label>
                                    </div>
                                    <div class="dwp-input"><input type="text"></div>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>


        <br><br><br><br><br>

        <div class="dwp-table-vertical">
            <div class="dwp-row">
                <div class="dwp-title">앱 분류</div>
                <div class="dwp-value">
                    <div class="dwp-selectbox lg">
                        <select id="sel_appCtg">
                            <option value="">선택하세요</option>
                            <option value="A_010">공통</option>
                            <option value="A_020">물류</option>
                            <option value="A_030">R&amp;D</option>
                            <option value="A_040">생산</option>
                            <option value="A_050">일반관리</option>
                            <option value="A_060">판매</option>
                        </select>
                    </div>
                </div>
                <div class="dwp-title">앱 구분</div>
                <div class="dwp-value">
                    <div class="dwp-selectbox lg">
                        <select id="sel_appType">

                        </select>
                    </div>
                </div>
            </div>
            <div class="dwp-row">
                <div class="dwp-title">회사</div>
                <div class="dwp-value rowspan">
                    <div class="dwp-row">
                        <div class="dwp-value">
                            <div class="dwp-grouping">
                                <div>
                                    <div class="dwp-selectbox lg">
                                        <select id="sel_company">
                                            <option value="">선택하세요</option>
                                            <option value="00000001">한국타이어</option>
                                            <option value="00007851">한국타이어월드와이드</option>
                                            <option value="200000">엠프론티어</option>
                                            <option value="500000">한국동그라미파트너스</option>
                                            <option value="600000">mk테크놀로지</option>
                                            <option value="800000">대화산기</option>
                                            <option value="900000">아트라스BX</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="option">
                                    <div class="dwp-checkbox">
                                        <label><input type="checkbox" checked="checked"><span>체크박스1</span></label>
                                    </div>
                                </div>
                                <div class="option">
                                    <div class="dwp-checkbox">
                                        <label><input type="checkbox" checked="checked"><span>체크박스1</span></label>
                                    </div>
                                </div>
                                <div class="option">
                                    <div class="dwp-checkbox">
                                        <label><input type="checkbox" checked="checked"><span>체크박스1</span></label>
                                    </div>
                                </div>
                                <div class="option">
                                    <div class="dwp-checkbox">
                                        <label><input type="checkbox" checked="checked"><span>체크박스1</span></label>
                                    </div>
                                </div>
                            </div>

                            <div class="tag-list">
                                <div class="tag-item">
                                    <span>해시태그</span>
                                    <a class="btn-del"><span class="dwp-icon-cancel"></span></a>
                                </div>
                                <div class="tag-item">
                                    <span>태그태그태그</span>
                                    <a class="btn-del"><span class="dwp-icon-cancel"></span></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <br><br><br><br><br>


        <div>

            <div class="dwp-selectbox md">
                <select>
                    <option value="ko">한국</option>
                    <option value="en">영어</option>
                    <option value="in">인도</option>
                    <option value="zh">중국</option>
                    <option value="hu">헝가리</option>
                </select>
            </div>
            <div class="dwp-input">
                <input type="text">
            </div>
            <div class="dwp-btn">
                <button class="confirm-btn">확인</button>
            </div>
        </div>
        <br />
        <hr />
        <br />
        <div class="dwp-lang-wrap">

        </div>


        <br />
        <hr />
        <br />
        <div class="dwp-input expended">
            <input type="text" size="200" class="example-data">
        </div>
    </div>
</body>
</html>
